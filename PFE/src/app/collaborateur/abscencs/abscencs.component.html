<!-- MultiStep Form -->
<div class="container-fluid" id="grad1">
    <div class="row justify-content-center mt-0">
        <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
            <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
                <h2><strong>Je suis malade</strong></h2>
                <div class="row">
                    <div class="col-md-12 mx-0">
                        <form id="msform" (ngSubmit)="submitForm()">
                            <!-- progressbar -->
                            <ul id="progressbar">
                                <li class="active" id="account"><strong>Je préviens</strong></li>
                                <li id="personal"><strong>je déclare un arret</strong></li>
                                <li id="payment"><strong>je justifie</strong></li>
                                <li id="confirm"><strong>Finish</strong></li>
                            </ul>
                            <!-- fieldsets -->
                            <fieldset>
                                <div class="form-card">
                                    <div class="avatar-container">
                                        <ng-container *ngIf="fileName !== null; else showAvatar">
                                            <img [src]="getImageUrl()" alt="profile" class="avatar-img" />
                                        </ng-container>
                                        <ng-template #showAvatar>
                                            <div class="avatar">{{ username?.charAt(0) }}{{ username?.charAt(1) }}</div>
                                        </ng-template>
                                    </div>
                                    <textarea name="message" placeholder="Bonjour, Je suis malade aujourd'hui. Je vous donne plus de précisions après ma visite chez le médecin." [(ngModel)]="message"></textarea>

                                </div>
                                <input type="button" name="next" class="next action-button" value="Next Step" />
                            </fieldset>


                            <fieldset>
                                <div class="form-card">
                                    <label for="start_date">Depuis:</label>
                                    <input type="date" id="start_date" name="start_date" placeholder="Start Date" [(ngModel)]="start_date" />
                                    <label for="end_date">Jusqu'au:</label>
                                    <input type="date" id="end_date" name="end_date" placeholder="End Date" [(ngModel)]="end_date" />
                                </div>
                                <input type="button" name="previous" class="previous action-button-previous"
                                    value="Previous" />
                                <input type="button" name="next" class="next action-button" value="Next Step" />
                            </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <label for="justificatif">Justificatif:</label>
                                    <input type="file" name="justificatif" id="justificatif" (change)="onFileSelected($event)" />
                                </div>
                                <input type="button" name="previous" class="previous action-button-previous"
                                    value="Previous" />
                                    <input type="submit" class="next action-button" value="Confirm" />
                                </fieldset>
                            <fieldset>
                                <div class="form-card">
                                    <h2 class="fs-title text-center">Leave Request Submitted</h2>
                                    <br><br>
                                    <div class="row justify-content-center">
                                        <div class="col-3">
                                            <img src="https://img.icons8.com/color/96/000000/ok--v2.png" class="fit-image">
                                        </div>
                                    </div>
                                    <br><br>
                                    <div class="row justify-content-center">
                                        <div class="col-7 text-center">
                                            <p>Your leave request has been successfully submitted. It will be reviewed and processed by your manager. Thank you for your cooperation.</p>
                                        </div>
                                    </div>
                                </div>
                                <input type="button" class="reset action-button" value="Reset and Start Over" (click)="resetForm()"/>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>